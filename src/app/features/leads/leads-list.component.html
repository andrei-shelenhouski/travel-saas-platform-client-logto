<div class="flex items-center justify-between mb-4">
  <h2 class="text-lg font-semibold text-gray-900">Leads</h2>
  <a
    routerLink="/app/leads/new"
    class="rounded bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary-hover"
  >
    Create lead
  </a>
</div>
@if (error()) {
  <p class="mb-4 text-sm text-red-600">{{ error() }}</p>
}
<div class="rounded border border-gray-200 bg-white overflow-hidden">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
      <tr>
        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Contact</th>
        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Notes</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      @if (loading()) {
        <tr>
          <td colspan="3" class="px-4 py-8 text-center text-gray-500">Loading…</td>
        </tr>
      } @else if (leads().length === 0) {
        <tr>
          <td colspan="3" class="px-4 py-8 text-center text-gray-500">No leads yet.</td>
        </tr>
      } @else {
        @for (lead of leads(); track lead.id) {
          <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900">
              <span class="font-medium">{{ lead.contactName }}</span>
              @if (lead.contactEmail || lead.contactPhone) {
                <span class="block text-gray-500 text-xs mt-0.5">
                  {{ lead.contactEmail ?? lead.contactPhone }}
                </span>
              }
            </td>
            <td class="px-4 py-3 text-sm text-gray-600">{{ lead.status }}</td>
            <td class="px-4 py-3 text-sm text-gray-600">{{ lead.notes ?? '—' }}</td>
          </tr>
        }
      }
    </tbody>
  </table>
</div>
