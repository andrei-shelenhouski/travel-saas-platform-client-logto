<div class="space-y-4">
  <header class="flex items-center justify-between border-b border-gray-200 pb-4">
    <h1 class="text-xl font-semibold text-gray-900">Create request</h1>
    <a
      routerLink="/app/requests"
      class="rounded px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100"
    >
      Cancel
    </a>
  </header>

  <p class="text-sm text-gray-600">Create a travel request linked to a client. You can then create an offer for this request.</p>

  @if (error()) {
    <p class="text-sm text-red-600">{{ error() }}</p>
  }

  <form (ngSubmit)="onSubmit()" class="max-w-xl space-y-4">
    <div>
      <label for="clientId" class="block text-sm font-medium text-gray-700">Client ID (UUID)</label>
      <input
        id="clientId"
        type="text"
        [(ngModel)]="clientId"
        name="clientId"
        required
        class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm font-mono"
        placeholder="e.g. 550e8400-e29b-41d4-a716-446655440000"
      />
    </div>

    <div>
      <label for="managerId" class="block text-sm font-medium text-gray-700">Manager ID</label>
      <input
        id="managerId"
        type="text"
        [(ngModel)]="managerId"
        name="managerId"
        required
        class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
      />
    </div>

    <div>
      <label for="destination" class="block text-sm font-medium text-gray-700">Destination</label>
      <input
        id="destination"
        type="text"
        [(ngModel)]="destination"
        name="destination"
        required
        class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="e.g. Barcelona, Spain"
      />
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label for="startDate" class="block text-sm font-medium text-gray-700">Start date</label>
        <input
          id="startDate"
          type="date"
          [(ngModel)]="startDate"
          name="startDate"
          required
          class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
        />
      </div>
      <div>
        <label for="endDate" class="block text-sm font-medium text-gray-700">End date</label>
        <input
          id="endDate"
          type="date"
          [(ngModel)]="endDate"
          name="endDate"
          required
          class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
        />
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label for="adults" class="block text-sm font-medium text-gray-700">Adults</label>
        <input
          id="adults"
          type="number"
          [(ngModel)]="adults"
          name="adults"
          min="1"
          class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
        />
      </div>
      <div>
        <label for="children" class="block text-sm font-medium text-gray-700">Children</label>
        <input
          id="children"
          type="number"
          [(ngModel)]="children"
          name="children"
          min="0"
          class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
        />
      </div>
    </div>

    <div>
      <label for="comment" class="block text-sm font-medium text-gray-700">Comment</label>
      <textarea
        id="comment"
        [(ngModel)]="comment"
        name="comment"
        rows="3"
        class="mt-1 block w-full rounded border border-gray-300 px-3 py-2 text-sm"
      ></textarea>
    </div>

    <div class="flex gap-3 pt-2">
      <button
        type="submit"
        [disabled]="saving()"
        class="rounded bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary-hover disabled:opacity-50"
      >
        @if (saving()) {
          <span class="inline-block h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent" aria-hidden="true"></span>
        } @else {
          Create request
        }
      </button>
      <a
        routerLink="/app/requests"
        class="rounded border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"
      >
        Cancel
      </a>
    </div>
  </form>
</div>
